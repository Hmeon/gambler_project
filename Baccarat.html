<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>바카라 게임</title>

  <!-- Google Fonts & Bootstrap -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <!-- 커스텀 CSS -->
  <link rel="stylesheet" href="css/baccarat_style.css" />
</head>
<body>
  <div class="container-fluid">
    <!-- 좌측 사이드바 -->
    <nav id="leftSidebar" class="sidebar-left">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item">
            <h5 class="nav-link">자금 상태</h5>
            <div class="nav-link"><span id="playerFund"></span></div>
            <div id="fundsChipsDisplay" class="funds-chips-display"></div>
          </li>

          <li class="nav-item mt-3">
            <h5 class="nav-link">베팅 단위</h5>
            <div class="nav-link d-flex flex-wrap">
              <button class="btn mb-2 betting-unit white-button"  data-unit="1">$1</button>
              <button class="btn mb-2 betting-unit cyan-button"   data-unit="5">$5</button>
              <button class="btn mb-2 betting-unit red-button"    data-unit="10">$10</button>
              <button class="btn mb-2 betting-unit yellow-button" data-unit="50">$50</button>
              <button class="btn mb-2 betting-unit blue-button"   data-unit="100">$100</button>
              <button class="btn mb-2 betting-unit green-button"  data-unit="500">$500</button>
              <button class="btn mb-2 betting-unit black-button"  data-unit="1000">$1,000</button>
              <button class="btn mb-2 betting-unit purple-button" data-unit="5000">$5,000</button>
              <button class="btn mb-2 betting-unit brown-button"  data-unit="10000">$10,000</button>
            </div>
          </li>

          <li class="nav-item">
            <div class="nav-link"><span id="betting-chip"></span></div>
          </li>
        </ul>
      </div>
    </nav>

    <!-- 중앙 게임 컨테이너 -->
    <div class="game-container d-flex flex-column align-items-center">
      <div class="card-sums d-flex justify-content-center align-items-center mb-4">
        <div class="card-sum me-4"><h5>플레이어 카드 합계</h5><span id="playerCardSum">0</span></div>
        <div class="card-sum"><h5>뱅커 카드 합계</h5><span id="bankerCardSum">0</span></div>
      </div>

      <div class="flex-grow-1 d-flex justify-content-center align-items-center position-relative">
        <!-- 게임 테이블 -->
        <div class="game-table" style="position:relative;">
          <!-- 칩 오버레이(Three.js canvas 들어감) -->
          <div id="chip-overlay" style="position:absolute; inset:0; z-index:5; pointer-events:none;"></div>

          <!-- 카드 슬롯 -->
          <div id="playerCardSlot1" class="card-slot"></div>
          <div id="playerCardSlot2" class="card-slot"></div>
          <div id="playerCardSlot3" class="card-slot"></div>

          <div id="bankerCardSlot1" class="card-slot"></div>
          <div id="bankerCardSlot2" class="card-slot"></div>
          <div id="bankerCardSlot3" class="card-slot"></div>

          <!-- 컨트롤 -->
          <button id="playButton"  class="btn btn-success mx-2">PLAY</button>
          <button id="CleanButton" class="btn btn-outline-secondary mx-2">CLEAN</button>

          <!-- 베팅 영역 버튼 -->
          <button id="playerArea"      type="button" class="btn btn-outline-danger  betting-button"
                  data-area="player"      aria-pressed="false" aria-label="Player Area"></button>
          <button id="bankerArea"      type="button" class="btn btn-outline-primary betting-button"
                  data-area="banker"      aria-pressed="false" aria-label="Banker Area"></button>
          <button id="tieArea"         type="button" class="btn btn-outline-warning betting-button"
                  data-area="tie"         aria-pressed="false" aria-label="Tie Area"></button>
          <button id="playerPairArea"  type="button" class="btn btn-outline-danger  betting-button"
                  data-area="playerpair"  aria-pressed="false" aria-label="Player Pair Area"></button>
          <button id="bankerPairArea"  type="button" class="btn btn-outline-info   betting-button"
                  data-area="bankerpair"  aria-pressed="false" aria-label="Banker Pair Area"></button>

          <div id="gameResult" class="alert alert-info" role="alert" style="display:none;"></div>
        </div>
      </div>
    </div>

    <!-- 우측 사이드바 -->
    <nav id="rightSidebar" class="sidebar-right">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item">
            <h5 class="nav-link">게임 전적</h5>
            <div class="nav-link">
              <ul id="gameHistory" class="list-group"></ul>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <!-- Libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cannon@0.6.2/build/cannon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

  <!-- App -->
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/baccarat_script.js"></script>
  <script src="js/floor.js"></script>
</body>
</html>
